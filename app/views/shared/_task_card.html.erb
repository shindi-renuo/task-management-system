<div class="relative flex shadow rounded-lg p-4 mb-4 border border-gray-200">
  <!-- Delete Button -->
  <%= button_to task_path(task), method: :delete, data: { confirm: 'Are you sure you want to delete this task?' }, class: 'absolute top-4 right-4 inline-flex items-center px-2 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500' do %>
    <span>Delete</span>
  <% end %>

  <div class="flex flex-col flex-grow">
    <h3 class="text-lg font-semibold text-gray-900"><%= task.title %></h3>
    <p class="mt-2 text-sm text-gray-700"><%= task.description %></p>
    <p class="mt-2 text-xs text-gray-500">Due: <%= l(task.due_date, format: :long) %></p>

    <% if task.completed %>
      <div class="mt-2">
        <span class="inline-block px-2 py-1 text-xs font-semibold text-white bg-green-600 rounded-full">Completed</span>

        <!-- Button to set as pending -->
        <%= button_to mark_as_pending_task_path(task), method: :patch, class: 'mt-2 inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-yellow-600 shadow-sm hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500' do %>
          Set as Pending
        <% end %>
      </div>
    <% else %>
      <div class="mt-2">
        <span class="inline-block px-2 py-1 text-xs font-semibold text-white bg-red-600 rounded-full">Pending</span>
        <!-- Button to set as completed -->
        <%= button_to mark_as_completed_task_path(task), method: :patch, class: 'mt-2 inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500' do %>
          Set as Completed
        <% end %>
      </div>
    <% end %>
  </div>
</div>